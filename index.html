<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Mini Personal Dashboard – Custom</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #0b1320;         /* deep navy */
      --card: #121a29;       /* darker card */
      --ink: #e6e7ea;        /* text */
      --muted: #9aa3b2;      /* secondary */
      --brand: #e9b44c;      /* amber accent */
      --accent: #2dd4bf;     /* teal accent */
      --danger: #ef4444;     /* red */
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius-xl: 22px;
    }

    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: "Space Grotesk", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color: var(--ink);
      background: var(--bg);
      display: grid;
      grid-template-rows: auto 1fr auto;
      min-height: 100vh;
    }

    /* Subtle texture to kill the sterile AI look */
    body::before {
      content: "";
      position: fixed; inset: 0; pointer-events: none; opacity: .18;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.95' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/ filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='.08'/%3E%3C/svg%3E");
      mix-blend-mode: soft-light;
    }

    header {
      display: flex; align-items: center; justify-content: space-between;
      padding: 18px 22px; border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .brand { display: flex; gap: 12px; align-items: center; font-weight: 700; }
    .badge { font-size: 11px; padding: 6px 10px; border-radius: 999px; background: rgba(45,212,191,.12); color: var(--accent); border: 1px solid rgba(45,212,191,.35); text-transform: uppercase; letter-spacing: .08em; }

    main { padding: 22px; max-width: 1100px; margin: 0 auto; }

    /* Asymmetric layout */
    .grid { display: grid; grid-template-columns: 1.3fr .9fr; gap: 18px; }
    @media (max-width: 880px){ .grid { grid-template-columns: 1fr; } }

    .card { background: var(--card); border: 1px solid rgba(255,255,255,.08); border-radius: var(--radius-xl); padding: 18px; box-shadow: var(--shadow); }
    .title { font-size: 12px; text-transform: uppercase; letter-spacing: .18em; color: var(--muted); margin: 0 0 10px; }

    /* Left column hero clock */
    .hero { display: grid; grid-template-columns: 1fr; align-content: start; gap: 10px; min-height: 220px; position: relative; overflow: hidden; }
    .hero h1 { font-size: clamp(40px, 7vw, 80px); line-height: .95; margin: 0; letter-spacing: -1px; }
    .hero .sub { color: var(--muted); font-size: 14px; }
    .hero .greet { color: var(--brand); font-weight: 700; }

    /* Weather widget */
    .weather { display: grid; grid-template-columns: 1fr 1fr; gap: 12px; align-items: center; }
    .weather .temp { font-size: 44px; font-weight: 700; }
    .weather small { color: var(--muted); }
    .pill { display: inline-flex; align-items: center; gap: 6px; padding: 6px 10px; border-radius: 999px; border: 1px solid rgba(255,255,255,.08); background: rgba(255,255,255,.04); }

    /* Links card */
    .links { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; }
    .link { display: block; text-decoration: none; color: var(--ink); padding: 14px; border-radius: 14px; border: 1px solid rgba(255,255,255,.08); background: rgba(255,255,255,.03); transition: transform .15s ease, background .15s ease; }
    .link:hover { transform: translateY(-2px); background: rgba(255,255,255,.06); }

    footer { color: var(--muted); text-align: center; padding: 16px; border-top: 1px solid rgba(255,255,255,.06); }
    .name { color: var(--ink); font-weight: 700; }

    /* Micro-interactions */
    .tick { animation: pulse 1s ease infinite; }
    @keyframes pulse { 0%{opacity:.6} 50%{opacity:1} 100%{opacity:.6} }
  </style>
</head>
<body>
  <header>
    <div class="brand">
      <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M4 16L12 4l8 12H4z" stroke="currentColor" stroke-width="1.2"/></svg>
      <span>Personal Dashboard</span>
    </div>
    <span class="badge" id="status">online</span>
  </header>

  <main>
    <div class="grid">
      <!-- Left: hero clock and greeting -->
      <section class="card hero">
        <p class="title">Focus</p>
        <div class="greet" id="greeting">Good evening, Joy</div>
        <h1 id="time">08:26:30</h1>
        <div class="sub" id="date">Friday, November 7, 2025</div>
        <div class="sub">Last updated <span id="updated" class="tick">now</span></div>
      </section>

      <!-- Right: Weather widget -->
      <section class="card">
        <p class="title">Weather</p>
        <div class="weather">
          <div>
            <div class="temp" id="w-temp">--°</div>
            <small id="w-desc">Loading…</small>
          </div>
          <div>
            <div class="pill">City: <strong id="w-city">Auto</strong></div>
            <div class="pill">Hi/Lo: <span id="w-hi">--</span>/<span id="w-lo">--</span>°</div>
            <div class="pill">Wind: <span id="w-wind">--</span> m/s</div>
          </div>
        </div>
        <div style="margin-top:12px; display:flex; gap:8px; flex-wrap: wrap;">
          <button id="use-geo" class="pill" type="button">Use my location</button>
          <button data-city="Abuja" class="pill quick-city" type="button">Abuja</button>
          <button data-city="Lagos" class="pill quick-city" type="button">Lagos</button>
          <button data-city="London" class="pill quick-city" type="button">London</button>
        </div>
      </section>

      <!-- Links across full width -->
      <section class="card" style="grid-column: 1 / -1;">
        <p class="title">Shortcuts</p>
        <div class="links">
          <a class="link" href="https://github.com/" target="_blank" rel="noreferrer">GitHub</a>
          <a class="link" href="https://calendar.google.com/" target="_blank" rel="noreferrer">Calendar</a>
          <a class="link" href="https://www.tradingview.com/" target="_blank" rel="noreferrer">TradingView</a>
          <a class="link" href="https://www.youtube.com/" target="_blank" rel="noreferrer">YouTube</a>
          <a class="link" href="https://mail.google.com/" target="_blank" rel="noreferrer">Gmail</a>
          <a class="link" href="https://chat.openai.com/" target="_blank" rel="noreferrer">ChatGPT</a>
        </div>
      </section>
    </div>
  </main>

  <footer>
    Built by <span class="name" id="displayName">Joy</span>. Deployed on GitHub Pages.
  </footer>

  <script>
    // ====== CONFIG ======
    const USER_NAME = 'Joy';

    // ====== Elements ======
    const nameEl = document.getElementById('displayName');
    const timeEl = document.getElementById('time');
    const dateEl = document.getElementById('date');
    const greetEl = document.getElementById('greeting');
    const updatedEl = document.getElementById('updated');

    nameEl.textContent = USER_NAME;

    function pad(n){ return String(n).padStart(2,'0'); }

    function updateClock(){
      const now = new Date();
      const h = now.getHours();
      const greet = h < 12 ? 'Good morning' : (h < 17 ? 'Good afternoon' : 'Good evening');
      greetEl.textContent = `${greet}, ${USER_NAME}`;
      timeEl.textContent = `${pad(h)}:${pad(now.getMinutes())}:${pad(now.getSeconds())}`;
      dateEl.textContent = now.toLocaleDateString(undefined, { weekday:'long', year:'numeric', month:'long', day:'numeric' });
      updatedEl.textContent = now.toLocaleTimeString();
    }
    updateClock(); setInterval(updateClock, 1000);

    // ====== WEATHER ======
    const cityMap = {
      'Abuja': { lat: 9.0579, lon: 7.4951 },
      'Lagos': { lat: 6.465422, lon: 3.406448 },
      'London': { lat: 51.5072, lon: -0.1276 }
    };

    const elTemp = document.getElementById('w-temp');
    const elDesc = document.getElementById('w-desc');
    const elCity = document.getElementById('w-city');
    const elHi = document.getElementById('w-hi');
    const elLo = document.getElementById('w-lo');
    const elWind = document.getElementById('w-wind');

    function codeToDesc(code){
      // minimal map for common codes
      const map = {
        0: 'Clear', 1: 'Mainly clear', 2: 'Partly cloudy', 3: 'Overcast',
        45: 'Fog', 48: 'Depositing rime fog',
        51: 'Light drizzle', 53: 'Drizzle', 55: 'Heavy drizzle',
        61: 'Light rain', 63: 'Rain', 65: 'Heavy rain',
        71: 'Snow', 80: 'Rain showers', 95: 'Thunderstorm'
      };
      return map[code] || 'Weather';
    }

    async function fetchWeather(lat, lon, label='Auto'){
      try {
        elCity.textContent = label; elDesc.textContent = 'Loading…';
        const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current=temperature_2m,apparent_temperature,weather_code,wind_speed_10m&daily=temperature_2m_max,temperature_2m_min&timezone=auto`;
        const r = await fetch(url);
        const j = await r.json();
        const cur = j.current || j.current_weather || {};
        elTemp.textContent = Math.round(cur.temperature_2m ?? cur.temperature ?? 0) + '°';
        elDesc.textContent = codeToDesc(cur.weather_code ?? cur.weathercode ?? 0);
        elHi.textContent = Math.round(j.daily?.temperature_2m_max?.[0] ?? 0);
        elLo.textContent = Math.round(j.daily?.temperature_2m_min?.[0] ?? 0);
        elWind.textContent = Math.round(cur.wind_speed_10m ?? cur.windspeed ?? 0);
      } catch(e){
        elDesc.textContent = 'Failed to load';
      }
    }

    // Default to Abuja
    fetchWeather(cityMap['Abuja'].lat, cityMap['Abuja'].lon, 'Abuja');

    // Geolocation button
    document.getElementById('use-geo').addEventListener('click', () => {
      if (!navigator.geolocation) return alert('Geolocation not supported');
      navigator.geolocation.getCurrentPosition(pos => {
        const { latitude, longitude } = pos.coords;
        fetchWeather(latitude, longitude, 'My location');
      }, () => alert('Unable to get location'));
    });

    // Quick city buttons
    document.querySelectorAll('.quick-city').forEach(btn => {
      btn.addEventListener('click', () => {
        const city = btn.dataset.city; const { lat, lon } = cityMap[city];
        fetchWeather(lat, lon, city);
      });
    });
  </script>
</body>
</html>
